(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{32:function(e,t,c){},53:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),r=c(23),a=c.n(r),i=(c(32),c(8)),o=c.n(i),l=c(11),u=c(7),d=c(24),j=c.n(d),m=c(25),h=c(1),p=function(e){var t=e.setUnits,c=e.search;return Object(h.jsxs)("div",{className:"temperature-toggle-block",children:[Object(h.jsx)("span",{className:"temperature-toggle__deg",children:"\xba"}),Object(h.jsxs)("div",{className:"temperature-toggle",children:[Object(h.jsx)("button",{className:"temperature-toggle__btn celsius active",onMouseDown:function(){return t("metric")},onClick:function(e){e.target.classList.add("active"),document.querySelector(".fahrenheit").classList.remove("active"),c(e)},children:"C"}),Object(h.jsx)("button",{className:"temperature-toggle__btn fahrenheit",onMouseDown:function(){return t("imperial")},onClick:function(e){e.target.classList.add("active"),document.querySelector(".celsius").classList.remove("active"),c(e)},children:"F"})]})]})},b=(c(53),c(12)),y=c(60);c(54),c(55);function v(){var e=document.querySelector(".list-group");e&&(e.style.display="none")}var O=function(e){var t=e.name,c=e.country,s=e.setQuery,r=Object(n.useState)(""),a=Object(u.a)(r,2),i=a[0],o=a[1];return Object(h.jsxs)(y.a.Item,{className:"list-group-item",onMouseOut:function(){return o("")},onMouseOver:function(){return o("success")},onClick:function(){s(t),v()},variant:i,children:[t," ",c]})},x=function(e){var t=e.cityList,c=e.setQuery;return Object(h.jsx)(y.a,{className:"list-group list-group-flush",children:t.map((function(e){return Object(h.jsx)(O,Object(b.a)(Object(b.a)({},e),{},{setQuery:c}),"".concat(e.lat).concat(e.name))}))})},f=function(e){var t=e.onKeyPress,c=e.onChange,n=e.value,s=e.weather,r=e.query,a=e.cityList,i=e.setQuery,o=function(e){"Enter"!==e.key&&"OK"!==e.target.innerHTML||!s||(document.querySelector(".container-city").style.display="none",document.querySelector(".block-choice").style.display="block",document.querySelector(".current-city").style.display="block",window.screen.width<670&&(document.querySelector(".temperature-toggle-block").style.display="flex"))};return Object(h.jsxs)("div",{className:"container-city",children:[Object(h.jsx)("input",{className:"input-city",type:"text",placeholder:"Search...",value:n,onChange:c,onKeyPress:t,onKeyDown:o}),Object(h.jsx)("button",{className:"btn-city",onMouseDown:t,onClick:o,children:"OK"}),r.length>=1&&Object(h.jsx)(x,{cityList:a.slice(0,5),setQuery:i})]})};c(56);function g(e){return e.charAt(0).toUpperCase()+e.slice(1)}var N=c(26),w=function(e){var t=e.query,c=e.weather,s=e.search,r=e.setQuery,a=e.setUnits,i=e.setWeather,o=e.units,l=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(u):console.log("Geolocation is not supported by this browser.")};function u(e){var t,c;t=e.coords.latitude,c=e.coords.longitude,fetch("".concat("https://api.openweathermap.org/data/2.5/weather","?lat=").concat(t,"&lon=").concat(c,"&units=").concat(o,"&APPID=").concat("13cf338387990523457c0869f8645ce7")).then((function(e){return e.json()})).then((function(e){i(e)}))}var d=m.filter((function(e){return e.name.includes(t)}));return Object(n.useEffect)((function(){l()}),[]),Object(h.jsx)("div",{className:"head-container",children:Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"block-head",children:[Object(h.jsxs)("div",{className:"block-info-weather",children:[Object(h.jsx)("div",{className:"current-city",children:c.name?c.name:""}),Object(h.jsx)(f,{type:"text",className:"search",value:g(t),onChange:function(e){e.target.value?r(e.target.value):r("")},onKeyPress:s,weather:c,query:t,cityList:d,setQuery:r}),Object(h.jsx)(p,{search:s,getLocation:l,setUnits:a})]}),Object(h.jsxs)("div",{className:"block-choice",children:[Object(h.jsx)("button",{className:"block-choice__city",onClick:function(){document.querySelector(".container-city").style.display="block",document.querySelector(".block-choice").style.display="none",document.querySelector(".current-city").style.display="none",window.screen.width<670&&(document.querySelector(".temperature-toggle-block").style.display="none")},children:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434"}),Object(h.jsxs)("button",{className:"block-choice__position",onClick:l,children:[Object(h.jsx)(N.a,{className:"block-choice__img"}),"\u041c\u043e\u0435 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"]})]})]})})})},_=function(e){var t=e.weather;return Object(h.jsxs)("div",{className:"city",children:[Object(h.jsxs)("div",{className:"city-info",children:[Object(h.jsx)("img",{className:"city-icon",src:"https://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@4x.png"),alt:t.weather[0].description}),Object(h.jsxs)("div",{className:"city-temp",children:[Math.round(t.main.temp),Object(h.jsx)("sup",{children:"\xb0"})]})]}),Object(h.jsx)("div",{className:"city-description",children:g(t.weather[0].description)}),Object(h.jsxs)("div",{className:"city-properties",children:[Object(h.jsxs)("div",{className:"city-properties-first-group",children:[Object(h.jsxs)("div",{className:"city-properties-item",children:[Object(h.jsx)("div",{className:"item__prop",children:"\u0412\u0435\u0442\u0435\u0440"}),Object(h.jsxs)("div",{className:"item__value",children:[t.wind.speed," \u043c/\u0441"]})]}),Object(h.jsxs)("div",{className:"city-properties-item",children:[Object(h.jsx)("div",{className:"item__prop",children:"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}),Object(h.jsxs)("div",{className:"item__value",children:[t.main.pressure," \u043c\u043c \u0440\u0442. \u0441\u0442."]})]})]}),Object(h.jsxs)("div",{className:"city-properties-second-group",children:[Object(h.jsxs)("div",{className:"city-properties-item",children:[Object(h.jsx)("div",{className:"item__prop",children:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(h.jsxs)("div",{className:"item__value",children:[t.main.humidity,"%"]})]}),Object(h.jsxs)("div",{className:"city-properties-item",children:[Object(h.jsx)("div",{className:"item__prop",children:"\u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f"}),Object(h.jsxs)("div",{className:"item__value",children:[t.clouds.all,"%"]})]})]})]})]})},k=(c(57),c(59)),S=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)({}),a=Object(u.a)(r,2),i=a[0],d=a[1],m=Object(n.useState)("metric"),p=Object(u.a)(m,2),b=p[0],y=p[1],O=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://api.openweathermap.org/data/2.5/weather",{params:{q:t,units:b,APPID:"13cf338387990523457c0869f8645ce7"}});case 2:return c=e.sent,n=c.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("OK"!==t.target.innerHTML&&"Enter"!==t.key&&"C"!==t.target.innerHTML&&"F"!==t.target.innerHTML){e.next=6;break}return e.next=3,O(c);case 3:n=e.sent,d(n),v();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"wrapper",children:Object(h.jsxs)("div",{className:"main-container",children:[Object(h.jsx)(w,{query:c,search:x,weather:i,setQuery:s,setUnits:y,setWeather:d,units:b}),i.main?Object(h.jsx)(_,{weather:i}):Object(h.jsx)(k.a,{animation:"border",variant:"warning",className:"spinner"})]})})};a.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(S,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.cc6f0ce6.chunk.js.map